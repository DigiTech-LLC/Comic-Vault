<!DOCTYPE html>
<html lang="en">
<head>
    <title>Comic Vault</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

    <script language="javascript">
        ScrollRate = 100;

        function initScroll() {
            DivEl = document.getElementById('NewsDiv');
            ReachedMaxScroll = false;

            DivEl.scrollTop = 0;
            PreviousScrollTop = 0;

            ScrollInterval = setInterval('divScroll()', ScrollRate);
        }

        function divScroll() {
            if (!ReachedMaxScroll) {
                DivEl.scrollTop = PreviousScrollTop;
                PreviousScrollTop++;

                ReachedMaxScroll = DivEl.scrollTop >= (DivEl.scrollHeight - DivEl.offsetHeight)
            } else {
                ReachedMaxScroll = (DivEl.scrollTop == 0) ? false : true;

                DivEl.scrollTop = PreviousScrollTop;
                PreviousScrollTop--;
            }
        }

        function divPause() {
            clearInterval(ScrollInterval);
        }

        function divResume() {
            PreviousScrollTop = DivEl.scrollTop;
            ScrollInterval = setInterval('divScroll()', ScrollRate);
        }
    </script>


</head>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Comic Vault</a>
    <ul class="navbar-nav mr-auto">
        <li class="nav-item active"><a href="{% url 'index' %}" class="nav-link">Home</a></li>
        <li class="nav-item"><a href="{% url 'timeline' %}" class="nav-link">My Timeline</a></li>
        <li class="dropdown">
            <a class="nav-link dropdown-toggle bg-none" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
               aria-expanded="false">Search</a>
            <div class="dropdown-menu bg-dark navbar-dark navbar-expand-lg">
                <a class="dropdown-item nav-item text-light navbar navbar-expand-lg navbar-dark bg-dark" href="{% url 'search' %}">Comic Search</a>
                <a class="dropdown-item nav-item text-light navbar navbar-expand-lg navbar-dark bg-dark" href="{% url 'usersearch' %}">User Search</a>
            </div>
        </li>
    </ul>
    <ul class="navbar-nav ml-auto">
        {% if user.is_authenticated %}
            <li class="nav-item"><a href="{% url 'profile' user.userprofile.id %}" class="nav-link"><span
                    class="glyphicon glyphicon-user"></span> {{ user.userprofile.first_name }} </a></li>
            <li class="nav-item"><a href="{% url 'logout' %}" class="nav-link"><span
                    class="glyphicon glyphicon-log-in"></span> Logout</a></li>
        {% else %}
            <li class="nav-item"><a href="{% url 'signup' %}" class="nav-link"><span
                    class="glyphicon glyphicon-user"></span> Sign Up</a></li>
            <li class="nav-item"><a href="{% url 'login' %}" class="nav-link"><span
                    class="glyphicon glyphicon-log-in"></span> Login</a></li>
        {% endif %}
    </ul>
</nav>

<body onLoad="initScroll()">

<div id="NewsDiv" class="container w-80" style="overflow:auto;background-color: #EEE;position: absolute;
    margin: auto;
    top: 56px;
    right: 0;
    bottom: 0;
    left: 0;
    border-radius: 3px;
    border-left: solid #2E2E2E;
    border-right: solid #2E2E2E;"
     onMouseOver="divPause()" onMouseOut="divResume()">

    {% if carousel_news %}
        <h1 align=center style="color:#003366;">
            News-Feed
        </h1>
        {% for generalnews in carousel_news %}
            <div id="home_carousel">
              <a href={% url 'newsItem' generalnews.id %} style="font-size:25px;">
                  {{ generalnews.title }}
              </a>

                <p>
                    {{ generalnews.content }}
                    <br>
                    --------------------------------------------------------------------------------------------------------------------------------------------------------
                </p>
            </div>

        {% endfor %} {% endif %}

        {% if carousel_comic %} {% for comic in carousel_comic %}
        <a href={% url 'comicpage' comic.id%}><img class="ml-3 mr-3" src={{ comic.cover_art }} 
            alt="Cover Art" height="270" width="180"></a>
        {% endfor %} {% endif %}
</div>
</body>

</html>
